@import 'tailwindcss';
@plugin "@tailwindcss/typography";

@custom-variant dark (&:is(.dark *));

@theme {
  --font-sans: 'Inter Variable', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono Variable', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

  --color-foreground: #000000;
  --color-foreground-dark: #ffffff;
  --color-background: #ffffff;
  --color-background-dark: #000000;
}

html {
  scroll-padding-top: 4rem;
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

body {
  font-family: var(--font-sans);
  @apply bg-background text-foreground dark:bg-background-dark dark:text-foreground-dark;
}

/* Smooth animations for Nano aesthetic */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate {
  animation: fadeIn 0.6s ease-in-out;
}

/* Focus visible improvements for better keyboard navigation */
*:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only:focus,
.sr-only:active {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Container for max-width wrapper (like Nano) */
.container {
  @apply mx-auto px-4 sm:px-6 md:px-8 lg:px-12;
  max-width: 64rem;
}

/* Rich text styling for blog posts */
.rich-text {
  @apply prose prose-sm max-w-none dark:prose-invert;
}

.rich-text h2 {
  @apply scroll-mt-24 text-2xl font-semibold tracking-tight;
}

.rich-text h3 {
  @apply text-xl font-semibold tracking-tight;
}

.rich-text p {
  @apply leading-relaxed;
}

.rich-text a {
  @apply underline underline-offset-2 decoration-black/15 dark:decoration-white/30 transition-colors duration-300 hover:decoration-black/25 hover:dark:decoration-white/50;
  color: currentColor;
}

.rich-text a:hover {
  @apply text-black dark:text-white;
}

.rich-text code {
  @apply bg-black/5 dark:bg-white/10 px-1.5 py-0.5 rounded text-sm font-mono;
}

.rich-text pre {
  @apply bg-black dark:bg-white text-white dark:text-black p-4 rounded overflow-auto;
}

.rich-text pre code {
  @apply bg-transparent p-0;
}

.rich-text blockquote {
  @apply border-l-4 border-black/15 dark:border-white/30 pl-4 italic;
}

.rich-text ul,
.rich-text ol {
  @apply space-y-2 pl-6;
}

.rich-text li {
  @apply leading-relaxed;
}

.rich-text img {
  @apply rounded;
}
